App.TicTacToe.when: App.When<App.TicTacToe.State>
  (event, state)
   case event {
     mouse_up :
        open state
        case App.TicTacToe.state.play(state.local) as st {
          none : App.pass!
          some  : App.set_local!(st.value)
        }
      frame : 
        open state
        App.set_local!(state.local@info <- event.info)
   } default App.pass!