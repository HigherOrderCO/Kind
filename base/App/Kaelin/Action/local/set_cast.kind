App.Kaelin.Action.local.set_cast(
  key_code: U16,
  local: App.Kaelin.State.local,
  global: App.Kaelin.State.global
): App.Kaelin.State.local
  open local

  target_pos = App.Kaelin.Coord.to_axial(local.env_info@mouse_pos)
  cast = App.Kaelin.CastInfo.start(local.user, key_code, target_pos, global)
  
  local@cast_info <- cast