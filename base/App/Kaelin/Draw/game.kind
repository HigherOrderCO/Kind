App.Kaelin.Draw.game(img: VoxBox, state: App.Store<App.Kaelin.State>): DOM
  open state
  open state.global as global
  open state.local as local

  let seconds = case global.stage { planning: some(global.stage.seconds) } default none
  let is_planning = case global.stage { planning: true } default false
  let map_to_draw = case global.stage { planning: global.stage.local_map } default global.map

  DOM.node("div", 
          {}, 
          { "width": "100vw", 
            "height": "100vh", 
            "display": "flex", 
            "flex-direction": "column", 
            "justify-content": "center", 
            "align-items": "center",
            "position": "relative"
          },
          [
            DOM.node("div", {}, {"margin-bottom": "10px"}, App.Kaelin.Draw.game.round(seconds, global.round)),
            DOM.node("div", {}, {}, [
              DOM.vbox({"width": "512"}, {"border": "none", "image-rendering": "pixelated"}, App.Kaelin.Draw.map(img, map_to_draw, state))
            ]),
            DOM.node(
              "div", 
              {}, 
              {
                "position": "absolute", 
                "bottom": "0px",
                "right": "0px",
                "margin": "15px"
                "display": "flex",
                "flex-direction": "column-reverse"
              },
              List.map!!(App.Kaelin.Draw.game.skill_list(local.user, local.team, global.map, is_planning), global.skills_list)
            )
          ]
  )