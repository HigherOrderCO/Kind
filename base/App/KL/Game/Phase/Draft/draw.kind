App.KL.Game.Phase.Draft.draw(
  local: App.KL.Game.State.Local, 
  global: App.KL.Global.State
): DOM
  open global
  without global.game: <div>"No game"</div> // impossible
  
  App.KL.Game.Phase.Draft.draw.choose_page(global.game@players, local@page, local@tab, local@room, local@user)

// choose what page draw based on team
App.KL.Game.Phase.Draft.draw.choose_page(
  players: Map<App.KL.Game.Player>,
  page: String,
  tab:  String,
  room: String,
  user: String
): DOM
  let player = players{user}
  without player: <div>"No player"</div> // impossible

  let team_page = App.KL.Game.Phase.Draft.draw.choose_team(players)
    
  let team = player@team
  case team {
    // if any team is selected go to main draft selection
    // pass only allies
    blue:   App.KL.Game.Phase.Draft.draw.main(App.KL.Game.Phase.Draft.draw.choose_page.filter_team(players, team), page, tab, user)
    red:    App.KL.Game.Phase.Draft.draw.main(App.KL.Game.Phase.Draft.draw.choose_page.filter_team(players, team), page, tab, user)
  } default team_page // if no team is selected go to team selection

// aux function to filter players according with 
// its respective team
App.KL.Game.Phase.Draft.draw.choose_page.filter_team(
  players: Map<App.KL.Game.Player>
  team: App.KL.Game.Team
): Map<App.KL.Game.Player>
  let result = {}
  for id:player in players with result:
    if App.KL.Game.Team.eql(player@team, team) then
      result{id} <- player
    else
      result
  result

// CHOOSE TEAM SCREEN
// ----------
App.KL.Game.Phase.Draft.draw.choose_team(
  players: Map<App.KL.Game.Player>
): DOM
  <div style={ 
    "width": "100vw"
    "height": "100vh"
    "display": "flex"
    "flex-direction": "column"
    "justify-content": "center"
    "align-items": "center"
    "font-size": "2rem"
  }>
    <div style={ 
      // "width": "60%"
      // "height": "30%"
      "display": "flex"
      "justify-content": "center"
      "flex-wrap": "wrap"
    }>
      {App.KL.Game.Phase.Draft.draw.choose_team.button(players, App.KL.Game.Team.blue)}
      {App.KL.Game.Phase.Draft.draw.choose_team.button(players, App.KL.Game.Team.red)}
    </div>
  </div>

App.KL.Game.Phase.Draft.draw.choose_team.button(players: Map<App.KL.Game.Player>, team: App.KL.Game.Team): DOM
  let player_list   = Map.to_list!(players) // TODO BBT.count
  let fun = 
    (x)
      let y = x@snd@team
      App.KL.Game.Team.eql(y, team)
  let player_count  = List.count!(fun, player_list) // Player count in respective team
  let team_txt      = App.KL.Game.Team.show(team)
  let gradient      = 
    case team {
      blue:     "linear-gradient(#38a5fa, #2081e0)" // blue
      red:      "linear-gradient(#ff3537, #d60f10)" // red
      neutral:  "linear-gradient(#f2f2f2, #e6e6e6)" // light gray - not used
    }
  
  <button id = "T" | Nat.show(player_count) | team_txt style={ 
    "width": "40%"
    "height": "200px"
    "background-image": gradient
    "box-shadow": "2px -2px 2px black"
    "font-size": "2rem"
    "border": "0"
    "border-radius": "5px"
    "cursor": "inherit"
    "min-width": "270px"
    "margin": "20px"
  }>
    Nat.show(player_count) | "/3 Players"
  </button>


// DRAFT LAYOUT
// ==============================
App.KL.Game.Phase.Draft.draw.main(
  allies: Map<App.KL.Game.Player>, 
  page: String
  tab: String,
  user: String
): DOM
  <div style={"margin": "0", "height": "max(100%, 766px)", "width": "100%", "background-image": "url(https://i.imgur.com/H5BB1V3.png)", "image-rendering": "pixelated", "position": "relative"}>
      {App.KL.Game.Phase.Draft.draw.background}

      <div style={"height": "100%", "width": "100%", "display": "flex", "flex-direction": "column", "justify-content": "center", "position": "relative", "z-index": "1"}>
        <header style={"background-image": "url(https://i.imgur.com/duRFrIR.png)", "width": "100%", "height": "64px", "image-rendering": "pixelated", "display": "flex", "justify-content": "space-between", "padding": "0 5px"}>
          <div style={"display": "flex"}>
          
          </div>
          <div style={"display": "flex", "justify-content": "flex-end"}>
            <img src=App.KL.Game.Phase.Draft.draw.assets.header.button.invite style={"height": "100%", "image-rendering": "pixelated"}></img>
            <img src=App.KL.Game.Phase.Draft.draw.assets.header.button.help   style={"height": "100%", "image-rendering": "pixelated"}></img>
            <img src=App.KL.Game.Phase.Draft.draw.assets.header.button.list   style={"height": "100%", "image-rendering": "pixelated"}></img>
            <img src=App.KL.Game.Phase.Draft.draw.assets.header.button.logout style={"height": "100%", "image-rendering": "pixelated"}></img>
          </div>
        </header>
        <div style={"display": "flex", "width": "100%", "justify-content": "center", "align-items": "center", "height": "max(calc(100% - 128px), 500px)", "position": "relative"}>
          <div style={"display": "flex", "padding": "4px"}>
            { App.KL.Game.Phase.Draft.draw.main.middle(allies, page, tab, user) }
          </div>

          // -16 because footer height is 64px
          // and margin top of ready button is -32px
          <div style={"position": "absolute", "bottom": "-16px", "right": "50px", "display": "flex", "transform": "scale(1.5)"}>
            <img style={"margin": "0 5px"} src=App.KL.Game.Phase.Draft.draw.assets.bottom.list_button></img>
            <img style={"margin": "0 5px"} src=App.KL.Game.Phase.Draft.draw.assets.bottom.chat_buttom></img>
          </div>
        </div>
        <footer style={"height": "64px", "display": "flex", "align-items": "flex-end", "width": "100%"}>
          <div style={"display": "flex", "height": "50%", "flex": "1"}>
            <div style={"flex": "1", "height": "100%", "align-self": "flex-end", "background-image": "url("| App.KL.Game.Phase.Draft.draw.assets.footer.stencil.main |")"}></div>
            <div style={"align-self": "flex-end", "height": "100%"}><img style={"height": "100%", "image-rendering": "pixelated"} src=App.KL.Game.Phase.Draft.draw.assets.footer.stencil.diagonal_left></img></div>
            <div style={"align-self": "flex-start", "zoom": "150%", "margin-top": "-32px"}><img style={"image-rendering": "pixelated"} src=App.KL.Game.Phase.Draft.draw.assets.ready_button></img></div>
            <div style={"align-self": "flex-end", "height": "100%"}><img style={"height": "100%", "image-rendering": "pixelated"} src=App.KL.Game.Phase.Draft.draw.assets.footer.stencil.diagonal_right></img></div>
            <div style={"flex": "1", "height": "100%", "align-self": "flex-end", "background-image": "url("| App.KL.Game.Phase.Draft.draw.assets.footer.stencil.main |")"}></div>
          </div>
        </footer>
      </div>
    </div>

App.KL.Game.Phase.Draft.draw.background: DOM
  let s = Maybe.some!
  <div style={"display": "contents"}>
    {App.KL.Game.Phase.Draft.draw.background.hexagons(none,s(10),s(64),none, App.KL.Game.Phase.Draft.draw.assets.background.hexagons.1)}
    {App.KL.Game.Phase.Draft.draw.background.hexagons(none,none,s(64),s(10), App.KL.Game.Phase.Draft.draw.assets.background.hexagons.2)}
    {App.KL.Game.Phase.Draft.draw.background.hexagons(s(64),s(10),none,none, App.KL.Game.Phase.Draft.draw.assets.background.hexagons.3)}
    {App.KL.Game.Phase.Draft.draw.background.hexagons(s(64),none,none,s(10), App.KL.Game.Phase.Draft.draw.assets.background.hexagons.4)}
  </div>

App.KL.Game.Phase.Draft.draw.background.hexagons(
  top: Maybe<Nat>
  right: Maybe<Nat>
  bottom: Maybe<Nat>
  left: Maybe<Nat>
  img: String
): DOM
  let decapsule = ((x) case x {
    none: ""
    some: Nat.show(x.value) | "px"
  }) :: Maybe<Nat> -> String

  <div style={"position": "absolute", "top": decapsule(top), "right": decapsule(right), "bottom": decapsule(bottom), "left": decapsule(left), "transform": "scale(2)", "z-index": "0"} >
    <img src=img></img>
  </div>

App.KL.Game.Phase.Draft.draw.main.middle(
  allies: Map<App.KL.Game.Player>
  page: String
  tab:  String
  user: String
): DOM
  let max = 3 // max players TODO store in game?
  let selected_hero = Maybe {
    get user = allies{user}
    get hero_id = user@hero_id
    get hero = App.KL.Game.Hero.get_by_id(hero_id)
    return hero
  }

  <div style={"display": "contents"}>
    
    // USER CARD
    {
      let player = allies{user}
      case player {
        none: <span></span> // Impossible
        some: App.KL.Game.Phase.Draft.draw.card.user(player.value)
      }
    }

    // ALLIES CARDS
    {
      let allies   = Map.delete!(user, allies)
      let allies   = Map.to_list!(allies) // TODO formap in DOM
      let n_allies = max - 1
      // let allies = List.indices!(allies)
      <div style={"display": "contents"}>
        for index in [0 to n_allies]:
          let info = List.get!(index, allies)
          case info {
            // if there is some allie not connected
            none: App.KL.Game.Phase.Draft.draw.card.allies(none, page)
            some:
              let {id, player} = info.value
              App.KL.Game.Phase.Draft.draw.card.allies(some(player), page)
          }
      </div>
    }
    
    // MENU SELECTION
    <div style={
      "max-height": "416px"
      "height": "416px" 
      "overflow": "auto"
      "display": if String.eql(page, "heroes") then "grid" else "none" // page
      "grid-template-columns": "repeat(5, minmax(0, 1fr))"
      "grid-auto-rows": "max-content"
      "gap": "10px"
      "margin": "0 10px"
      "padding-top": "4px" // because of negative margin
    }>
      for card in [App.KL.Game.Phase.Draft.draw.portrait.hero(hero, selected_hero) for hero in App.KL.Game.Hero.list]:
        card
    </div>
  </div>


// draw user card in specific order
// this order sets the user card to stay in middle
App.KL.Game.Phase.Draft.draw.card.user(
  player: App.KL.Game.Player
): DOM
  let fator  = 2
  let bt     = 2
  let id     = "user-card"

  let hero = Maybe {
    get hero_id = player@hero_id
    get hero    = App.KL.Game.Hero.get_by_id(hero_id)
    return hero
  }

  // TODO resolve this
  let skills = case hero {
    none: []
    some: Map.to_list!(hero.value@skills)
  }

  let slot   = ((el)
    <div style={
      "background-image": "url("|App.KL.Game.Phase.Draft.draw.assets.card.button|")"
      "background-size": "100% 100%"
      "height": "20%"
      "width": "100%"
      // "font-size": "1.5rem"
      "border-radius": "5px"
      "display": "flex"
      "align-items": "center"
      "justify-content": "center"
      "color": "white"
    }>
      { el }
    </div>
  ) :: DOM -> DOM

  let inner  = 
    <div style={"display": "contents"}>
      <div style={"height": "40%", "width": "17%", "max-height": "40%", "overflow": "auto", "border-radius": "5px 0px 0px 5px"}>
        { slot(<span>"I"</span>) } // TODO LIST ICON
        for info in skills:
          let {key, skill} = info
          slot(<span>key</span>)
      </div>
      <div id=id style={"width": "82%", "border-radius": "0 5px 5px 0", "padding": Nat.show(fator * bt) | "px"}>
        {App.KL.Game.Phase.Draft.draw.card.hero(hero, id)}
      </div>
    </div>
  
  <div id=id style={"margin": "0 10px"}>
    { App.KL.Game.Phase.Draft.draw.card.wrapper(99, 208, bt, id, fator, "https://i.imgur.com/HTnAVKj.png", inner) }
  </div>

App.KL.Game.Phase.Draft.draw.card.allies(
  player: Maybe<App.KL.Game.Player>,
  page: String
): DOM
  let fator = 2
  let bt    = 2
  let type = "CLASS"

  let hero = Maybe {
    get player  = player
    get hero_id = player@hero_id
    get hero    = App.KL.Game.Hero.get_by_id(hero_id)
    return hero
  }

  let inner = 
    <div style={"width": "100%", "border-radius": "0 5px 5px 0", "padding": Nat.show(fator * bt) | "px"}>
      {App.KL.Game.Phase.Draft.draw.card.hero(hero, "")}
    </div>
  
  <div style={"margin": "0 10px", "display": if String.eql(page, "users") then "block" else "none"}>
    { App.KL.Game.Phase.Draft.draw.card.wrapper(82, 208, bt, "", fator, "https://i.imgur.com/CI2xJrU.png", inner) }
  </div>

// draw hero parts of cards
App.KL.Game.Phase.Draft.draw.card.hero(
  hero: Maybe<App.KL.Game.Hero>
  id: String
): DOM
  let img   = "https://i.imgur.com/T49eUdC.png"
  <div id=id style={"height": "100%"}>
    // draw top of card
    <div id=id style={
      "height": "52%"
    }>
      {
        case hero {
          none: App.KL.Game.Phase.Draft.draw.card.hero.img("", "", "", id) // TODO change to none
          some: App.KL.Game.Phase.Draft.draw.card.hero.img(hero.value@name, "TYPE", img, id) // TODO change type
        }
      }
    </div>
    // draw bottom of card
    <div id=id style={"height": "48%", "width": "100%"}>
      {
        case hero {
          none: App.KL.Game.Phase.Draft.draw.card.hero.attrs(App.KL.Game.Hero.Attributes.set(0,0,0,0,0,0), id) // when no hero is selected
          some:
            case hero.value@attributes as attrs {
              none: App.KL.Game.Phase.Draft.draw.card.hero.attrs(App.KL.Game.Hero.Attributes.set(0,0,0,0,0,0), id) // when hero has no attribute
              some: App.KL.Game.Phase.Draft.draw.card.hero.attrs(attrs.value, id) // show attributes
            }
        }
      }
    </div>
  </div>

// draw card's top
App.KL.Game.Phase.Draft.draw.card.hero.img(name: String, type: String, img: String, id: String): DOM
  <div id=id style={"position": "relative", "height": "100%"}> 
    <div id=id style={
      "position": "absolute", 
      "margin-left": "auto"
      "margin-right": "auto"
      "left": "0"
      "right": "0"
      "text-align": "center"
      "top": "-7%"
      "width": "55%",
      "height": "55%",
      "background-image": "url("|img|")",
      "background-size": "contain",
      "background-position": "center",
      "background-repeat": "no-repeat"
    }>
      // <img src=img style={"object-size": "contain"}></img>
    </div>
    <div id=id style={
      "position": "absolute"
      "top": "70%"
      "left": "0"
      "right": "0"
      "margin": "auto"
      "height": "25%"
      "display": "flex"
      "flex-direction": "column"
      "justify-content": "space-around"
      "align-items": "center"
    }>
      <span id=id style={"color": "white", "text-transform": "uppercase"}>name</span>
      <img id=id src=App.KL.Game.Phase.Draft.draw.assets.card.name_divisor style={"width": "50%"}></img>
      <span id=id style={"color": "#871df0", "font-size": "small", "text-transform": "uppercase"}>type</span>
    </div>
  </div>

// draw attributes icons and bars
App.KL.Game.Phase.Draft.draw.card.hero.attrs(attrs: App.KL.Game.Hero.Attributes, id: String): DOM
  let order     = ["damage", "resistance", "mobility", "range", "utility"]
  let attrs_map = App.KL.Game.Hero.Attributes.to_map(attrs) 
  <div id=id style={"display": "contents"}> 
    for attr in order:
      let img = App.KL.Game.Phase.Draft.draw.assets.card.attr_icons{attr}
      without img: <span id=id style={"display": "none"}></span> // TODO
      <div id=id style={"display": "contents"}>
        <div id=id style={
          "height": "15%",
          "display": "flex", 
          "align-items": "center", 
          "padding": "4% 10%",
          "margin-top": if attr =? "damage" then "4%" else ""
        }>
          <div id=id style={
            "flex": "1"
            "margin-right": "10%"
            "height": "100%"
          }>
            <img id=id style={"width": "100%", "height": "100%", "object-fit": "contain", "image-rendering": "pixelated"} src=img></img>
          </div>
          <div id=id style={"display": "flex", "height": "100%", "flex": "4", "align-items": "center"}>
            for j in [1 to 6]:
              let attr_value = attrs_map{attr}
              without attr_value: <span style={"display": "none"}></span>
              let bar = App.KL.Game.Phase.Draft.draw.assets.card.attr_bar(attr_value, j)
              <div id=id style={"margin": "0 3px", "display": "flex", "align-items": "center", "flex": "1"}><img style={"width": "100%", "image-rendering": "pixelated"} src=bar></img> </div>
          </div>
        </div>
        {
          if attr =? "utility" then <span></span>
          else 
            <div id=id style={"display": "flex", "justify-content": "center"}>
              <img id=id style={"width": "80%", "margin": "auto", "image-rendering": "pixelated"} src=App.KL.Game.Phase.Draft.draw.assets.card.divisor></img>
            </div>
        }
      </div>
  </div>


App.KL.Game.Phase.Draft.draw.card.wrapper(width: Nat, height: Nat, bt: Nat, id: String, fator: Nat, background: String, inner: DOM): DOM
  <div id=id style={
    "height": Nat.show(fator * height) | "px", 
    "width": Nat.show(fator * width) | "px", 
    "display": "flex", 
    "background-image": "url("|background|")", 
    "background-size": "100% 100%", 
    "padding-top": Nat.show(fator * bt) | "px"
    // "margin": "0 10px"
    "image-rendering": "pixelated"
  }>
    {inner}
  </div>

App.KL.Game.Phase.Draft.draw.portrait.hero(hero: App.KL.Game.Hero, selected_hero: Maybe<App.KL.Game.Hero>): DOM
  let fator = 2
  let bt = 2
  let width = 44
  let height = 74

  // verify if hero is the hero selected
  let is_selected = case selected_hero {
    none: false
    some: String.eql(hero@name, selected_hero.value@name)
  }
  
  let id = "H" | hero@name
  let portrait = hero@picture(true, 0)
  let inner =
    <div id=id style={"width": "100%", "padding": "0 " | Nat.show(bt * fator) | "px", "display": "flex", "flex-direction": "column", "align-items": "center"}>
      <img id=id style={"width": "100%", "image-rendering": "pixelated", "transform": "translateY(-"|Nat.show((2 + bt)*fator)|"px)", "margin-bottom": "4px"} src=portrait></img>
      <p id=id style={"text-transform": "uppercase", "color": "white"}>hero@name</p>
    </div>
  

  <div id=id style={
    "height": Nat.show(fator * height) | "px", 
    "width": Nat.show(fator * width) | "px", 
    "display": "flex", 
    "background-image": "url("|App.KL.Game.Phase.Draft.draw.assets.portrait.hero.background|")", 
    "background-size": "100% 100%", 
    "background-repeat": "no-repeat"
    "padding-top": Nat.show(fator * bt) | "px"
    "image-rendering": "pixelated"
    "border-style": "solid"
    "border-image-slice": "4"
    "border-image-width": "10px"
    "border-image-repeat": "stretch stretch"
    "border-color": "transparent"
    // if selected then draw border
    "border-image-source": if is_selected then "url("|App.KL.Game.Phase.Draft.draw.assets.portrait.hero.border|")" else ""
  }>
    {inner}
  </div>

// ROOM NUMBER AND READY BUTTON
// ==========================

// display room text, and ready/cancel button
App.KL.Game.Phase.Draft.draw.ready_button(players: Map<App.KL.Game.Player>, room: String, user: String): DOM
  info = players{user}
  let ready_count = App.KL.Game.Player.ready_count(players, room, user) // Pair(Total players, ready check)
  let total = Nat.show(ready_count@fst)
  let count = Nat.show(ready_count@snd)
  let {color, text} = 
    case info {
      none: {"#4CAF50", "Ready"}
      some: 
        let player = info.value
        if player@ready then
          {"gray",    count|"/"|total|"\n\n Cancel"}
        else
          {"#4CAF50", "Ready"}
  }
  <div style={ 
    "width": "30%"
    "height": "auto"
    "display": "flex"
    "justify-content": "center"
    "align-items": "center"
    "flex-direction": "column"
  }>
    <div style={ 
      "background-color": "#d6dadc"
      "color": "black"
      "padding": "8px"
      "text-align": "center"
      "border-radius": "5px"
      "margin-bottom": "10px"
      "font-size": "32px"
    }>
      room
    </div>
    <button id="Ready" style={ 
      "background-color": color
      "border": "none"
      "color": "white"
      "padding": "32px"
      "text-align": "center"
      "text-decoration": "none"
      "display": "inline-block"
      "font-size": "32px"
      "margin": "4px 2px"
      "cursor": "inherit"
    }>
      text
    </button>
  </div>

// BOTTOM MENU FOR CHOOSING HEROES 
// ======================
App.KL.Game.Phase.Draft.draw.menu(
  players: Map<App.KL.Game.Player>
): DOM

  heroes = App.KL.Game.Hero.list
  main_style = 
  {
    "width": "70%",
    "height": "100%"
    "display": "flex"
    "justify-content": "center"
    "align-items": "center"
  }
  
  display_style = 
  { 
    "display": "flex",
    "flex-wrap": "wrap",
    "justify-content": "center", 
    "width": "100%"
  }
  
  hero_list = List.map!!(App.KL.Game.Phase.Draft.draw.selection, App.KL.Game.Hero.list) 

  <div style=main_style>
    <div style=display_style>
      for div in hero_list: div
    </div>
  </div>

     //Selection
//----------------------------------------------
App.KL.Game.Phase.Draft.draw.selection(
  hero: App.KL.Game.Hero
): DOM
   
  image = hero@picture(true, 0) //TODO placeholder
  //assets = hero@assets
  //image  = assets@base64

  box_style = 
  { 
    "margin": "4px",
    "border": "5px solid #d6dadc",
    //"box-shadow":"0 2px 3px rgba(0, 0, 0, 0.1)",
    "background-color": "#Aeb4b7"
    "height": "auto",
    "width": "15%",
    "border-radius": "5px"
  }

  name_style =   
  {
    "display": "flex",
    "justify-content": "center",
    "font-size": "1.2vw"
  }

  img_box_style = 
  {
    "padding": "2px",
    "height": "100%",
    "width": "100%"
  } 

  corner_style = 
  {
    "width": "75%",
    "margin-left": "12.5%",
    "height": "auto",
    "image-rendering": "pixelated"
  }
  square_style = 
  {
    "display": "flex", "justify-content": "center", "height": "100%", "width":"100%"
  }
  
  <div style=box_style id="H" | hero@name>
    <div style=name_style id="H"| hero@name>hero@name</div>
      <img style=corner_style src=image id="H" | hero@name>
      </img>
  </div>


// ASSETS

// user and allies card
// =====================
App.KL.Game.Phase.Draft.draw.assets.card.button: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAAsUlEQVR42mNgAAIzl67/5tPP/7fY8QCM+778x4ph8iC1ID0MpGjGaYiudhuKAIhvbjwfKwbJIVsorBj/nwFEwDTLqhXh1AzDIDUwQ+AGwDSDMMgWfBimDqQHxQCYJDEGwLwySA0gZAhOA9glHOEYZhA6RlaDYQCyAg/ZIqwY2QKsXjCRSARjXAbA5DG8ABOAGZKo1Y4VI2sG0XADkA2BSWLDyPIwfeAMBeMgBxI+jKwZAA9Tzqish/WQAAAAAElFTkSuQmCC"

App.KL.Game.Phase.Draft.draw.assets.card.divisor: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAACCAYAAADsDAqEAAAAGUlEQVR42mNgl3D8P4od/zM4qOX/H8X5/wFLCtMnRwvN3AAAAABJRU5ErkJggg=="

App.KL.Game.Phase.Draft.draw.assets.card.name_divisor: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAABCAYAAAChQ5zUAAAAKklEQVR42mPQlgz7z82j9R9Eg7CZSxcGjYzbZT/AaWpgZDORMTa3ILsVAD4KYiEWiGpBAAAAAElFTkSuQmCC"

App.KL.Game.Phase.Draft.draw.assets.card.attr_bar(i: Nat, j: Nat): String
  case Nat.cmp(j, i) {
    ltn: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAADCAYAAABBCiV2AAAAGElEQVR42mN4nf3/PyHMQJSiyRmv/hPCACSbVe0aeuODAAAAAElFTkSuQmCC"
    eql: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAADCAYAAABBCiV2AAAAGElEQVR42mPo+/L/PyHMQJSiyRmv/hPCAAScWQUsjAs3AAAAAElFTkSuQmCC"
    gtn: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAADCAYAAABBCiV2AAAAGElEQVR42mPg5tH6TwgzEKXIzKXrPyEMAKotKJyhzZc5AAAAAElFTkSuQmCC"
  }

App.KL.Game.Phase.Draft.draw.assets.card.attr_icons: Map<String>
  {
    "damage": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAAATUlEQVR42mNgAIK+L///W+x48J8BCwCJg+QxBNA14BKHS8BMgbFx2ciArhDFelwaCCpEVoRuA0ETcdqA7DlsiuGexBk82IIPb/CgaQAAVVyucYmp1skAAAAASUVORK5CYII=" // offensive
    "resistance": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALCAYAAACtWacbAAAAQ0lEQVR42mNgQAIWOx787/vy/z+IZkAHMEl0DFeMLoFVjChFMKsYsACcVmLjYzgcWRGGL7H5jmAwYA0rgoGJrhBdDABa1bsEjscb1AAAAABJRU5ErkJggg==" // defensive
    "mobility": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAKCAYAAABv7tTEAAAAQklEQVR42mOw2PHgf9+X/ygYmxgDOgApgmF0xTg1wTTisgWnJnTN6M7Fq4lkDVSxBT00sRqASxNBm/EFO9khCRIHABDzAc+vGvQQAAAAAElFTkSuQmCC" // mobility
    "range": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVR42mNggAKLHQ/+9335j4JBYgzIAKsgkmY4B6YI3UQUeZgAuqnIpoFpFA6Sqehi5CnEazXRniE6eIgNcADtwMQtWOgT0gAAAABJRU5ErkJggg==" // range
    "utility": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAMCAYAAACwXJejAAAAU0lEQVR42mNgQAIWOx787/vy/z+IZsAGQJLoGEMRzBSYBrymIdM4rYOZiKEQm/HI1qNysJgO1ozuI2QT4dZicwtGUCAHIDpGMRmXKRhhhc0kmBwAbSTOuAXc0NYAAAAASUVORK5CYII="// utility
  }

// hero portraits
// =====================
App.KL.Game.Phase.Draft.draw.assets.portrait.hero.background: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAABKCAYAAADAKbZGAAAAcUlEQVR42u3bwQkAIQwEQNu4GuTasSPrVvwdeE+FBGZhyXcK2JSSNfVp4609ZJftF7tuxG7oyNgvGhgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgY+Dg43QY+3ZeBXMwEjZrO46oJAlgAAAAASUVORK5CYII="

App.KL.Game.Phase.Draft.draw.assets.portrait.hero.border: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAABPCAYAAACUEffIAAAAnklEQVR42u3asQ3CMBBA0RuLnZiFeRiHASjpCSKCyOAUoFiWD96TrrT87cKVIx52x9N0uFyHnntjlDJEV/FldHWigVSdGaLX4iNL9Hv8HB7JCBf+F+GZXpTyZRHePRwAAAAAAAAAAPhl/mT1Dvdhsnf4eT+lC5+bhQsXLrxZ9BKeJf7Z+hI+evxq55b4cu2n0yR6S0DvaXp7395gqz1uy7Mq9gTE4rAAAAAASUVORK5CYII="

// ready button
// =====================
App.KL.Game.Phase.Draft.draw.assets.ready_button: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAAAqCAYAAABr9d/aAAAC70lEQVR42u2aMWsVQRDH0/kBbNKksElhSBU0giJIAgkBFYsINgmKjdilUWzsEhQUIailYqG1FsHGxlQ2+gkEG3sLwULkZA7mmN03uzf79m7fu+S/8Oe9nZ27t29+N7N7793MDBoaWndt+eW3ClEAdbRBMgPII5psAIvKiDZGe/q7qsochDY5oJymSNfhlEiHGXdCmUfjsQ8C+PKgmVVjj0Eg51RIgJoek9QkcWwMCevf9JVPLfscVtxhWUoqwp+3EbHGVrIJspIGOSA/RCujltLK6+dxhK59dz9JJJQQOPb3bQ1YzQgNRzXAs6uPoQHKAchEz338UUuWABaP4crvRymxVwEC3nAgOgAXF3abtKT3pLn5nVrcX156BRVUiIPk1AA8eWo7Cg8QJwMvBpGYqQBD8ABxMvA0iFkAu4a4sfW+uvX8S1A0nuJ35c5Blt/1B5+qiytvax96pb60+7YS8DoH2KXaNkY0fn7thclv/fa7Vr/t/c+tfuSzcuN1de3eB8dOfd9WKk5TDTDWaJzmZvWj75Pj9+fvvwYiif1CNgAUYOSVHQOoZc2jw+8jYGLns/gBYCJADVbMFvp1wnJsG1QABECUUN6ctJXQzYcHKkBrCbUAlOeTfQCMbE5kpsX8KNAaQOsmJmSjHSfvVv3GFxcAdpCBIYB+xqQCPHPhmQqR50VjAOitTwTDsgbyesT3bKE10C+DKQB5jnzfKMfIVipGJoAnZi/VA0dxE5MLUJtnSXgSIM2TWDkASWQklc7CcQDKv12kcmCRvv78NZUAJQ/m5DxbM0mI4wDM3ZxYNzvTALAVnv/AjQaxT/mBWbr8pNUWCvjq3TcjsCw2bXdJ62psniViY4YXg7g+t9OrKFBcwui9xaaJxjfm748ca7H52ry6b5pnCZnhhSDSSW6e3nNUavLHTVqck+ClQIT61djwYuUUKqcseCGIfK/IT0nh2cxuJOMpY50Fz4dIN44sQOwHnoxxJ/B8iFDhx+YN7T9DLCkhPaM0KwAAAABJRU5ErkJggg=="

// footer
// =====================
App.KL.Game.Phase.Draft.draw.assets.footer.stencil.main: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVR42u3OIQEAAAgDMCyOGPQvCDFuJuZX03tJJSAgICAgICAgICAgICAgkA48lJQATI4CDw0AAAAASUVORK5CYII="

App.KL.Game.Phase.Draft.draw.assets.footer.stencil.left: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAASCAYAAAAZk42HAAAA60lEQVRIDcWWwQ2DMBRDufbWKxt0A2bpIp2HoToCO3AEfSRXVsGQT/KTSihgOf5+FNR2z8driTj64b3gGMbvdm7r/7lddyU+ERCWCYiUtQhMFEhqLkCzYVIHRvoA85nm+49ZZEFPdjaMZ1i0Nwsmupw3/zaMd1CuH0Xt5VZZ8LjeGRUWpaOkrUVhogpf5QLI7rrysufyN1OF1NC5qJrHnlMYFVBL56JqJnskjNpcU+eiai57DmHUxto6F1Wz2bODUZta6FxUzYdn999MbWilc1HVgT2/b0aZW+pcVPVgzwajjK11FD3rAY89Ziu/MPx2bdASCAAAAABJRU5ErkJggg=="

App.KL.Game.Phase.Draft.draw.assets.footer.stencil.diagonal_left: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAASCAYAAAAZk42HAAAA60lEQVRIDcWWwQ2DMBRDufbWKxt0A2bpIp2HoToCO3AEfSRXVsGQT/KTSihgOf5+FNR2z8driTj64b3gGMbvdm7r/7lddyU+ERCWCYiUtQhMFEhqLkCzYVIHRvoA85nm+49ZZEFPdjaMZ1i0Nwsmupw3/zaMd1CuH0Xt5VZZ8LjeGRUWpaOkrUVhogpf5QLI7rrysufyN1OF1NC5qJrHnlMYFVBL56JqJnskjNpcU+eiai57DmHUxto6F1Wz2bODUZta6FxUzYdn999MbWilc1HVgT2/b0aZW+pcVPVgzwajjK11FD3rAY89Ziu/MPx2bdASCAAAAABJRU5ErkJggg=="

App.KL.Game.Phase.Draft.draw.assets.footer.stencil.diagonal_right: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAASCAYAAAAZk42HAAAA1ElEQVRIDc2XwQ2DMBAE/c0vXzpIB9SSRlIPRVECPeRJdJGMQNjOGN8qRrJAx2pvx2BLDsHhGqd5jWMYn6dnq8Vxvz1WxWjGMIAYktwVEObZBLKHUAWkvpdBXst7+xK0mVJ3CaQ3CJugapAeIapBeoWoAiEQ/1z86NeqhbBtWLmwU94/QQgE0aSae9aKICQg0XgGznllQUhAosk19q4nQUhAovEOW/I7gZCARFNqqnh3ACHbZ48QNjEbCIEgGsVsE88vCAlINKShShNowHjWUAVp9f0ACML8do5nEEsAAAAASUVORK5CYII="

App.KL.Game.Phase.Draft.draw.assets.footer.stencil.right: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAASCAYAAAAZk42HAAAA1ElEQVRIDc2XwQ2DMBAE/c0vXzpIB9SSRlIPRVECPeRJdJGMQNjOGN8qRrJAx2pvx2BLDsHhGqd5jWMYn6dnq8Vxvz1WxWjGMIAYktwVEObZBLKHUAWkvpdBXst7+xK0mVJ3CaQ3CJugapAeIapBeoWoAiEQ/1z86NeqhbBtWLmwU94/QQgE0aSae9aKICQg0XgGznllQUhAosk19q4nQUhAovEOW/I7gZCARFNqqnh3ACHbZ48QNjEbCIEgGsVsE88vCAlINKShShNowHjWUAVp9f0ACML8do5nEEsAAAAASUVORK5CYII="

// header
// =====================
App.KL.Game.Phase.Draft.draw.assets.header.button.invite: String  
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAABACAYAAACgNd+MAAABYklEQVR42u3aPQrCQBAF4FzAI4iIYBqtbGJlaWGXxs7Gyk4vIFhY23gYj+M9LCIDmTAsu5ss5GdH38LDJIrwMcns4pqMZ3lByTanYro6qkoSMgAFFFBv5usLKgoooIACmmhFBkGBBBJIIFUgu1ifAtknMhYcKglki8js9S7koHMVSAlzHduAEjqa7PQ0HvPVBDKIw9fp+PG5V4n2diXYYvu03rI8JFBCo0MSQlaMQ8D0cKugHFcVzaiupK+KEubKIEiqlnmNcPJZ5HPZbFQhQ7qrrYuqRPrmSXPaUP9MNlkA2KoZZXcNjZwPzWrSdfVIRrieTYmUiR4p50bfMq7uM4MjeYoIWYybDagrYK/d9WeRtpWOC+IbKpB1iCbvR49sYwAJZI+Nx7dOrYua7voXyCF/nsSGD5BAAgkk9idRSSCB/I8/EAIIIIBBsW0PooIAlsA8PfeS/fLayvdEC2wrAJbjC8t/0cpcsmwIAAAAAElFTkSuQmCC"

App.KL.Game.Phase.Draft.draw.assets.header.button.help: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAABACAYAAACgNd+MAAABD0lEQVR42u3asQ3CMBCF4SzACAghJKioaELFAHRpGICKDhZgLsZhk0CQLKILsRK44Pj8W7rG3ZcXX+TY2XRRlFXlu1M53xyjqqzPAAoUKFCgQN+13F5I1DS0nnBvaIxp9oKCBAkSJEiQIEGCBJk6Mr/dSzmqOTPIT0BNqNtyBUP6gNqJBkNKzGS2f5XEm0DWga7MISXQFLKOkvPmkL6GFH3j6dqMTCFlV21LOmrkUCmOFqkJDIqU5xgmkV0/KVEi206itJFfnYf8q7tqb7NG23jMIpNIMok1aaq78rfOCtJ3YyO5JDUfBkmyJkGCBAlySKT5m5IAAQIECFALWKzOURXAX4GH9bUx516f0QCf4wFemMVkf3n/hwAAAABJRU5ErkJggg=="

App.KL.Game.Phase.Draft.draw.assets.header.button.list: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAABACAYAAACgNd+MAAAA7klEQVR42u3aQQqCQBTGcS/QESIiqFWrNrbqAO3cdIBW7uwCnavjdJOpWQiTDORDnfqc/4MHMiD4442fIhbLTeV8l6farQ9XqS4sBdTY2+ONiQIFChQo0KHQXzxOBkMVp2mCqr4oJEdmMUmQc0B+ux+nvF+TIGOAlCHEdgUJEmS+SPlHyOwnWT6eri1/HFvvW+H5f4XsVrjuL9rS4fkg2a4TIBer80e3Sdpd79syyNi6NJJ0JV1JV4IHJNuV4CFdSVfSVQXJh6zckWN+vWOSIEGCBAkSJEj+lAQIECBAgKMBq10j1QCtwMv+rgd81wu9A5PjjdGiEwAAAABJRU5ErkJggg=="

App.KL.Game.Phase.Draft.draw.assets.header.button.logout: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAABACAYAAACgNd+MAAABdUlEQVR42u3bOwrCQBAG4LmARxARwTR2NlpZWth5ABsrOz2Cd/AwHsebREZYCMGYmWyy7vyZgSGCMeRzNrt5bGi6OJacm92lnK/PkEkcMdDl9hb1fTJkLNREJdGhVA9EKH0LNCg1BRKUfgUKlNoCAUqSsA4laQyBTHWi4Mihkd5cBVmc7qLteSVzRWpbQHJkdQebPkNUMoDqSxNIzc7yuqv9I8kw0nslJXcKApB7R162Vdpsx2O6km1jGWeoHuwZT6oeNZtxcvN8lZrg9ZMjYyoRgBroX5AxWQXycjI7iNIsUgqEQEqbubbZdkbG9ox1pOZY1kKzqKTmd/yHaKEmkVpolsgqQJqjQP46rrNESoaSOhAOqQEmQTYNNV07Hi3QZO+qBZoeQjQnEOaQpq9CIJGjuJ4MQ0H2dwb6gGrT5LOQ7JE5TCnzh7COdKQjHelIRzrSJxD6VNBRTOqFn54NP9Ee/pUJ+JdfqsBjcYVKeOAHiQ7kfAPswOCUA++R1QAAAABJRU5ErkJggg=="

// background
// =====================
App.KL.Game.Phase.Draft.draw.assets.background.hexagons.1: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAAB2CAYAAAA6Ceb5AAABkklEQVR42u3cQQ7CIBAFUK7iGTyS9z+DxqXGhUULf+BN0qVN4VEYZNLWCsXlers/ryayQN4vPRMGAigcBFA4CKBwEEDhIIDCQQCBAQMGDBgwYAQYMGDAgAEDRoABAwYMGDBgAAECBAgQIECABCBAgMCAAQNGgAEDBgwYMGDAgAEDBgwYMGDAgHnpJDChICMeHsgPb8gZjQHyxynrH40DcmIH9/weyMBF/Zv7AZmYZX26P5CgtHcWRsn9iI0iGDBgwIABAwYMGDBgwIABAwYMGDBgwIDp66TVUWZV9MQDzTwoGzkITxsUKx0tjxyEw97aysUYIwfhtGl1h8ZWGETdD196egiedrsfvvSCGpyolEmzpfY2wzbDYMCAAQMGDBgwYMCAAQMGDBgwYMCAAaOipyCK79ccGABADrwhjpbDp6ytizEqrCFblS9VXNR3qOgpnWXtUNGzRNq7chtLbxSbAAMGDBgwYMAIMGDAgAEDBgwYMGDAgCkOs/rf/oCA1AECEgYEJAwISBgQkDAgIJun2TPjAUCEMu6iz3bYAAAAAElFTkSuQmCC"

App.KL.Game.Phase.Draft.draw.assets.background.hexagons.2: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAAB3CAYAAABPA20BAAABk0lEQVR42u3c4W2DMBAGUFbJDB2p+8/QqpEiVVXaQrB9/syzxM/47AeGyMexbVq/dnt7//g6Vo/ZZKAjBl4Rs8tZ7DHwiphDLvEWA6+IWbL+X/l9RcwpAu3pryLmlGfhWf8VMSMeq494FTFPdVBxv4uKCQkSJEiQIEGCBAkSJEiQIC2DZKtkEqzvOD+P6XF6d/wXTi+smL3uIzitsGKyJmdwXsWKyb+1xNmLFZPJ7YnzG1bcOwEVx5bSAEGCBAkSJEiQIEGCBAkSJEiQIMGBAwcOHDhw/N+BBAkSJEiQIEGCBAkSJEiQIEGaC6l5bclKrxl3O0ErvLA+7GpOLH0oW/oJRTTT3CdnLMea9qEyQ2FfzBO4siw15u9KVbExJEiQIEGCBAkSJEiQIEGCBKkCyVbJThybbgeunEtv347OekQlAkZPNiqlNHrZRCUnR9+Ao9LcsR/GHBnzKp91jRswJEiQIEGCBAkSJEiQIEGCFL91EVmAM2rw0Ti9J7MUTuvJLY1zdrKXwjk6+Uvj/IcBx7K6t0/BHTiwPEdP2QAAAABJRU5ErkJggg=="

App.KL.Game.Phase.Draft.draw.assets.background.hexagons.3: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA0CAYAAAA0c0BmAAAAzklEQVR42u3Zyw2EMAxFUbcyNVAS/dcwIxZsEEjBY798fC1liZ3DP46ZMz7b/j2GCUNe81pQMYGzxnV0O6sZE3hCpqHfJoyYQCsyDP1vAs/xXqQbHX1rtOSLQjajsx/6u/xZyEe0+nWuAt6i1d/KnmCwYMGCBQsWLFiwYMFWxZZZ4qkX712RqrbMUMishtvQyKhW6lRIb5N8amTr9sdSyBJXcrgfgx4BFixYsGDBggULFixYsGtj1WgbKUogs9A2U5RAetG2UpRAZm+vvIkfiSZdjv2Z6aMAAAAASUVORK5CYII="

App.KL.Game.Phase.Draft.draw.assets.background.hexagons.4: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAB2CAYAAABMM1RyAAAB4ElEQVR42u3cQW7CMBAF0Fylqx6gN+kVeoHefwNiQVWloBCSPxPqZylLPPYjUYxn8DS9UPt8/z5drknLwM4vMiFY0EWwoItgQRfBgi6CHR66CnZYaMCAAQMGDBgwYMCAAQMGDBgwYMCAAQNubm8fX6fLZcM9DFt1Rw8Pm4IGG4IGG4IGG4IGG4IeZj1bidsZEzBgwIABAwYMGDBgwIABAwYMGDDgbe26dVg54ert0ZaY9za/k4O4TvJ3rPSk5zHiMR9N3+w5iDnsrVh7T3qpz91jPpuA3DKIJdgE9No+NsfcK4X+zKC3xFo76a1Qqz+fKgJ55LHbM9bSpPd+1Bf7qypjuvXiSMaaTzr9svrTf1chXhL2HnTLkrILuOMLbflRBBgwYMCAAQMGDBgwYMCAAQMGDBjwS21XHiID3vG/4fSGe2cGvDyzkczFHQG6LTeXzCYfAbotu5yshzgCdFt9RLKi5wjQbRU+FW/kTui2GrXKdeVIa+iW5qwfwIABAwYMGDBgwIABAwYMGDBgwIABNzcnZxfBVt3Rw8OmoMGGoMGGoMGGoMGGoIdZzzpMCTBgwIABAwYMGDBgwIABAwYMGDDgNZP97ydnDwE9LGwaAmwIBmwICmwIGmwIGqxVwU87A1dxGgh2jQzNAAAAAElFTkSuQmCC"

// bottom buttons
// =====================
App.KL.Game.Phase.Draft.draw.assets.bottom.list_button: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAATCAYAAAAeVmTJAAABHklEQVR42u2Uuw3CMBRF3TEATZoUNBQgKhChRaJgC5QVGAIkClpK1mALVmAI+sCLuObG8bMcCIgCS0eRHfv6yD9j7mW62BXZ4VzMTheL1AHa9teiEaEstMvcBhJtC8SKWInRcFMxk3raX5dk42MrIE+yeeWlXkp0eysrgM4YILwrgBzOhojMbSU0AZ9IzPa4AppITYI7uYMhwtvmA+fAN97Nf0lCkEmwlC444NrY1iU0virxXwk8MB9biU4yt/BVAqGryXK+sYDn8Eq4naS+TJ8E34XHCyhfHgN82ep2TJLcgoB8sC3hN98HBNAfIIez1e3QRNzQJoQEahL8AzKfwJ2jIgF439xDxLcgBPfT8nhOg8KNGjEi/D8m0/xKuQG23r4JXV13wgAAAABJRU5ErkJggg=="

App.KL.Game.Phase.Draft.draw.assets.bottom.chat_buttom: String
  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAATCAYAAADxlA/3AAABEklEQVR42u2VMQrCQBBFt/MANmlS2FgoVoraChbeQnIFD6FgYWvpNbyFV/AQ9tFZ+MvPuLMmEkHEwA/s7sz/j0yibrrcl7PjpZyfr0GyhrB3uJWNlPLCvmQ7ubUdXhfCA4yG2wqRrPP+xms2PrUi+Ik3P3FZu25vHcJRiGLRu6HohQ97A0KyPYAVHoV4NKYeuZzrfguiAsAFsWYO5znGZEHoUTQCENUJh/4Avwmgf0hafQk72SKIPxetVxBybvVyxhOALpD1Kk+LQ1N1Me/oCCZZEYTmYrDzsgB0OOp1H3tHR2BBaEOWhKfOU+EVAN4EyCekMwIAxHPSLwz+TtkkJq6z/DjTycUblupA8HkdT/cN1x3Wm8bj6iLFvgAAAABJRU5ErkJggg=="